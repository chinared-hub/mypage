<!DOCTYPE html><html lang="zh-Hans"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="baidu-site-verification" content="cbUbgjjdru"/><meta name="generator" content="Next.js"/><link href="https://fonts.googleapis.com/css?family=Chelsea+Market:400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;500&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/><script src="https://cdn.bootcdn.net/ajax/libs/react/16.13.1/umd/react.production.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/react-dom/16.13.1/umd/react-dom.production.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script><script src="/_.v1.js"></script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Java内部类简析 - kiyak</title><link rel="preload" href="/_next/static/css/7af46002.794d2e46.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7af46002.794d2e46.chunk.css" data-n-g=""/><link rel="preload" href="/_next/static/css/189f372a1a09b44bc5ee9e8694cd22967121ee9f_CSS.48deeafe.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/189f372a1a09b44bc5ee9e8694cd22967121ee9f_CSS.48deeafe.chunk.css" data-n-g=""/><link rel="preload" href="/_next/static/css/712a84a73acf62bf26290958298b2566586e7dd8_CSS.77aeb35e.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/712a84a73acf62bf26290958298b2566586e7dd8_CSS.77aeb35e.chunk.css" data-n-g=""/><link rel="preload" href="/_next/static/css/93b2fd6e127d30331b61cfd2f04634ca05024a66_CSS.c9bcc403.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/93b2fd6e127d30331b61cfd2f04634ca05024a66_CSS.c9bcc403.chunk.css" data-n-g=""/><link rel="preload" href="/_next/static/css/styles.a71acdf5.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.a71acdf5.chunk.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8a4b9c7b11a9228b425c7a73cade1154f2ca061e_CSS.0b204744.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8a4b9c7b11a9228b425c7a73cade1154f2ca061e_CSS.0b204744.chunk.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-9e14e9299d96e4a63fc3.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/7af46002.7b37a38a8911fc5fb44b.js" as="script"/><link rel="preload" href="/_next/static/chunks/7658eb265201359a3f9e5f36a5d51cd74c781bde.716fe7386381de1064b0.js" as="script"/><link rel="preload" href="/_next/static/chunks/189f372a1a09b44bc5ee9e8694cd22967121ee9f.c1299753f6cf9d140411.js" as="script"/><link rel="preload" href="/_next/static/chunks/189f372a1a09b44bc5ee9e8694cd22967121ee9f_CSS.8f6f5b95f5e92b2c9bcd.js" as="script"/><link rel="preload" href="/_next/static/chunks/712a84a73acf62bf26290958298b2566586e7dd8_CSS.bca366718f045dbe8189.js" as="script"/><link rel="preload" href="/_next/static/chunks/93b2fd6e127d30331b61cfd2f04634ca05024a66_CSS.19830e50427f38e47434.js" as="script"/><link rel="preload" href="/_next/static/chunks/608d37238a334f4b11fe8d600201fe11b7a5b804.cbf6dda1e316f22fd86b.js" as="script"/><link rel="preload" href="/_next/static/chunks/d111f78934af154ae2b78def2cd48076645f6685.b41fcd8fbee89b9b32b6.js" as="script"/><link rel="preload" href="/_next/static/chunks/e70a2e0268e458e8b9abc18785a5727107407f8e.3f5af21948b0ca66102f.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.97cfe1edb1cdc49560a5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-307ac3bfcacd4d7be388.js" as="script"/><link rel="preload" href="/_next/static/chunks/8a4b9c7b11a9228b425c7a73cade1154f2ca061e.4a1b4be1a94f0b02499c.js" as="script"/><link rel="preload" href="/_next/static/chunks/8a4b9c7b11a9228b425c7a73cade1154f2ca061e_CSS.4d62413f4da81be1e932.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-c6ffa8c08f20ac6ea580.js" as="script"/></head><body><div id="__next"><div><section class="ant-layout"><header class="ant-layout-header ki-header"><div class="ant-row ant-row-center ant-row-middle" style="height:100%"><div class="title-panel"><a class="header-title" href="/">· KIYAK ·</a></div></div></header><main class="ant-layout-content" style="margin-top:50px;padding-left:2px;padding-right:2px;padding-top:2px"><div style="overflow:hidden"><div id="posts-panel"><div class="ant-row ant-row-center"><div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-18 ant-col-lg-13"><div id="posts-content"><h1>Java内部类简析</h1>
<p>创建一个 Root.java 类文件</p>
<p>类文件的内容如下</p>
<pre><code class="language-java">public class Root {
    // 内部类 - A
    public class A {

    }
    // 静态内部类 - B
    public static class B {
        
    }
}
</code></pre>
<p>打开控制台，输入 javac Root.java ，将文件进行编译</p>
<p><img src="https://resource.1024kb.top/image/code-sample/javac.root.java.png" alt="img"></p>
<p>命令执行完毕后，会生成 3 个额外的文件</p>
<p><img src="https://resource.1024kb.top/image/code-sample/javac.root.others.png" alt="imgs"></p>
<p>反编译其中 .class 后缀的文件，可以看到</p>
<p>Root.class 文件内容如下：</p>
<pre><code class="language-java">public class Root {
    public Root() {
    }

    public static void main(String[] var0) throws Throwable {
    }

    public static class B {
        public B() {
        }
    }

    public class A {
        public A() {
        }
    }
}
</code></pre>
<p>Root$A.class</p>
<pre><code class="language-java">public class Root$A {
    public Root$A(Root var1) {
        this.this$0 = var1;
    }
}
</code></pre>
<p>Root$B.class</p>
<pre><code class="language-java">public class Root$B {
    public Root$B() {
    }
}
</code></pre>
<p>观察A、B文件</p>
<p>Root$A.class 文件对应最开始编写的<strong>内部类 - A</strong>，</p>
<p>Root$B.class 对应<strong>静态内部类 - B</strong></p>
<h1>区别</h1>
<p><code>Root$A</code> 构造函数增加了一个 <code>Root var1</code> 入参并且持有引用：<code>this.this$0 = var1</code></p>
<p>而<code>Root$B</code> 仅仅持有空的构造函数</p>
<h1>结论</h1>
<p>说明<strong>内部类</strong>是持有<strong>外部类</strong>的引用，能够获取外部类的信息，而<strong>静态内部类</strong>与<strong>外部类</strong>的关系是相互独立的，只不过静态内部类“躲”在别人身体里罢了</p>
</div></div></div><div style="position:fixed;bottom:150px;right:50px"><nav id="posts-nav"><ul style="list-style:none"></ul></nav></div><div class="ant-row ant-row-center" style="margin-bottom:40px;margin-top:40px"><span class="ant-typography"><u>· last updated：<!-- --> ·</u></span></div></div></div><span style="position:fixed;bottom:60px;right:15px;z-index:999;background-color:#555555" class="ant-avatar ant-avatar-lg ant-avatar-circle ant-avatar-icon ant-dropdown-trigger"><span role="img" aria-label="unordered-list" class="anticon anticon-unordered-list"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="unordered-list" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"></path></svg></span></span><div style="display:none" class="web-map"><a href="/">主页</a><a href="/notes">笔记</a></div></main><footer class="ant-layout-footer ki-footer"><a href="http://www.beian.miit.gov.cn" target="_blank" style="color:rgba(250, 250, 250, 0.938)">桂ICP备18000815号-2 © 2017 - 2020 - KIYAK-WEB</a></footer></section></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"filename":"programming/[Java]内部类简析.md","title":"Java内部类简析","excerpt":"Java内部类与静态内部类的区别","date":"2019-05-16T10:35:07.322Z","updated":"2019-05-16T10:35:07.322Z","preText":"☕","preTextColor":"rgb(230, 230, 230)","content":"\u003ch1\u003eJava内部类简析\u003c/h1\u003e\n\u003cp\u003e创建一个 Root.java 类文件\u003c/p\u003e\n\u003cp\u003e类文件的内容如下\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class Root {\n    // 内部类 - A\n    public class A {\n\n    }\n    // 静态内部类 - B\n    public static class B {\n        \n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e打开控制台，输入 javac Root.java ，将文件进行编译\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://resource.1024kb.top/image/code-sample/javac.root.java.png\" alt=\"img\"\u003e\u003c/p\u003e\n\u003cp\u003e命令执行完毕后，会生成 3 个额外的文件\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://resource.1024kb.top/image/code-sample/javac.root.others.png\" alt=\"imgs\"\u003e\u003c/p\u003e\n\u003cp\u003e反编译其中 .class 后缀的文件，可以看到\u003c/p\u003e\n\u003cp\u003eRoot.class 文件内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class Root {\n    public Root() {\n    }\n\n    public static void main(String[] var0) throws Throwable {\n    }\n\n    public static class B {\n        public B() {\n        }\n    }\n\n    public class A {\n        public A() {\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRoot$A.class\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class Root$A {\n    public Root$A(Root var1) {\n        this.this$0 = var1;\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRoot$B.class\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class Root$B {\n    public Root$B() {\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e观察A、B文件\u003c/p\u003e\n\u003cp\u003eRoot$A.class 文件对应最开始编写的\u003cstrong\u003e内部类 - A\u003c/strong\u003e，\u003c/p\u003e\n\u003cp\u003eRoot$B.class 对应\u003cstrong\u003e静态内部类 - B\u003c/strong\u003e\u003c/p\u003e\n\u003ch1\u003e区别\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003eRoot$A\u003c/code\u003e 构造函数增加了一个 \u003ccode\u003eRoot var1\u003c/code\u003e 入参并且持有引用：\u003ccode\u003ethis.this$0 = var1\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e而\u003ccode\u003eRoot$B\u003c/code\u003e 仅仅持有空的构造函数\u003c/p\u003e\n\u003ch1\u003e结论\u003c/h1\u003e\n\u003cp\u003e说明\u003cstrong\u003e内部类\u003c/strong\u003e是持有\u003cstrong\u003e外部类\u003c/strong\u003e的引用，能够获取外部类的信息，而\u003cstrong\u003e静态内部类\u003c/strong\u003e与\u003cstrong\u003e外部类\u003c/strong\u003e的关系是相互独立的，只不过静态内部类“躲”在别人身体里罢了\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"java-internal-classes"},"buildId":"pGGBVmnLCT4XKOq0_CdKw","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"Java内部类简析 - kiyak"}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-577caaa53936537aa4bf.js"></script><script src="/_next/static/chunks/main-9e14e9299d96e4a63fc3.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/7af46002.7b37a38a8911fc5fb44b.js" async=""></script><script src="/_next/static/chunks/7658eb265201359a3f9e5f36a5d51cd74c781bde.716fe7386381de1064b0.js" async=""></script><script src="/_next/static/chunks/189f372a1a09b44bc5ee9e8694cd22967121ee9f.c1299753f6cf9d140411.js" async=""></script><script src="/_next/static/chunks/189f372a1a09b44bc5ee9e8694cd22967121ee9f_CSS.8f6f5b95f5e92b2c9bcd.js" async=""></script><script src="/_next/static/chunks/712a84a73acf62bf26290958298b2566586e7dd8_CSS.bca366718f045dbe8189.js" async=""></script><script src="/_next/static/chunks/93b2fd6e127d30331b61cfd2f04634ca05024a66_CSS.19830e50427f38e47434.js" async=""></script><script src="/_next/static/chunks/608d37238a334f4b11fe8d600201fe11b7a5b804.cbf6dda1e316f22fd86b.js" async=""></script><script src="/_next/static/chunks/d111f78934af154ae2b78def2cd48076645f6685.b41fcd8fbee89b9b32b6.js" async=""></script><script src="/_next/static/chunks/e70a2e0268e458e8b9abc18785a5727107407f8e.3f5af21948b0ca66102f.js" async=""></script><script src="/_next/static/chunks/styles.97cfe1edb1cdc49560a5.js" async=""></script><script src="/_next/static/chunks/pages/_app-307ac3bfcacd4d7be388.js" async=""></script><script src="/_next/static/chunks/8a4b9c7b11a9228b425c7a73cade1154f2ca061e.4a1b4be1a94f0b02499c.js" async=""></script><script src="/_next/static/chunks/8a4b9c7b11a9228b425c7a73cade1154f2ca061e_CSS.4d62413f4da81be1e932.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-c6ffa8c08f20ac6ea580.js" async=""></script><script src="/_next/static/pGGBVmnLCT4XKOq0_CdKw/_buildManifest.js" async=""></script><script src="/_next/static/pGGBVmnLCT4XKOq0_CdKw/_ssgManifest.js" async=""></script></body></html>